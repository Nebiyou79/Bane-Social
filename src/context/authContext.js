import { createContext, useEffect, useState } from "react";

export const AuthContext = createContext();

export const AuthContextProvider = ({ children }) => {
  const [currentUser, setCurrentUser] = useState(
    JSON.parse(localStorage.getItem("user")) || null
  );

  const login = () => {
    //TO DO
    setCurrentUser({
      id: 1,
      name: "Nebiyou Girma",
      profilePic:
        "data:image/jpeg;base64,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",
    });
  };

  useEffect(() => {
    localStorage.setItem("user", JSON.stringify(currentUser));
  }, [currentUser]);

  return (
    <AuthContext.Provider value={{ currentUser, login }}>
      {children}
    </AuthContext.Provider>
  );
};
